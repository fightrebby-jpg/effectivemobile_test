# effectivemobile_test
Тестовое задание Effective mobile, вакансия системный аналитик

**Задание 1: Анализ требований**

Описание:
Вам попал на руки фрагмент технического задания на разработку функционала "Корзина" для интернет-магазина "Петрушка Зеленая". В ТЗ есть несколько логических противоречий, недочетов и неполных мест.

Раздел ТЗ: Функционал корзины

1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара.
2. Пользователь может изменить количество каждого товара в корзине не менее, чем до 1-го. Для удаления товара из корзины используется отдельная кнопка.
3. В корзине может находиться не более 5 различных товаров.
4. Суммарное количество всех товаров в корзине не может превышать 20 штук.
5. Товары в корзине могут быть разные.
6. При попытке добавить товар, превышающий лимиты, система показывает сообщение: "Лимит корзины превышен".
7. Цена на продукт фиксируется на момент добавления в корзину и не меняется.
8. На странице корзины отображается список товаров, их количество, цена за единицу и общая стоимость позиции.
9. Если пользователь уменьшает количество товара до 0, товар удаляется из корзины.
10. В корзине может быть реклама других продуктов.
11. Реклама товаров в корзине должна быть каждый будний день по утрам и вечерам.
13. Если цена на товар изменилась в каталоге, система должна автоматически обновить ее в корзине у всех пользователей.

Что нужно сделать:
1. Найдите и перечислите все логические противоречия и недочеты в предоставленном ТЗ. Объясните, в чем заключается проблема для каждого пункта.
2. Предложите конкретные исправления для устранения этих противоречий - напишите свою версию этого фрагмента ТЗ, которая должна быть логически завершенной и непротиворечивой.
3. Какие уточняющие вопросы вы бы задали продукт-менеджеру или бизнес-заказчику по этому ТЗ?

**Решение, задание 1**

Недочеты:
1. Противоречие п.2 и п.9. П.2 запрещает уменьшать кол-во каждого товара в корзине до 0, когда П.9 описывает возможность сделать это. Пунты 2 и 9 взаимоисключают друг друга.
2. Противоречие п.7 и п.13. П.7 описывает фиксирование цены на момент добавления в корзину, когда П.13 позволяет изменять цены на товары. Пункты 7 и 13 противоречат друг другу.
3. Неопределенность П.6. Непонятно, какой лимит превышен, по кол-ву позиций или по кол-ву одного товара или по суммарному кол-ву товаров к корзине.
4. Лишний П.5. Исходя из пункта 3 и так понятно, что можно добавлять в корзину разные товары, данный пункт избыточен и не нужен.
5. Отсутствие П.12. Неправильная нумерация пунктов, или п.12 пропущен.
6. Неопределенность П.13. Непонятно с какой частотой и в каких случаях может повышаться цена на товары и сценарии ее изменения.
7. Неопределенность П.10, П.11. Реклама товаров внутри корзины не является функционалом корзины. Описание рекламы в ТЗ стоит под вопросом.
8. Неопределенность П.11. Не описаны временные рамки "утра" и "вечера".

Исправленное ТЗ: Функционал корзины
1. Пользователь может добавить в корзину от 1 до 10 единиц одного товара.
2. Пользователь может изменить количество каждого товара в корзине в диапазоне от 0 до 10. При установке кол-ва на 0, товар удаляется из корзины. Для удаления товара из корзины используется отдельная кнопка (эквивалентно установке кол-ву на 0).
3. В корзине может находиться не более 5 различных товаров.
4. Суммарное количество всех товаров в корзине не может превышать 20 штук.
5. При попытке добавить товар, превышающий лимиты по кол-ву в одной позиции, система показывает сообщение: "Нельзя добавить более 10 единиц одного товара".
6. При попытке добавить товар, превышающий лимиты по кол-ву позиций в корзине, система показывает сообщение: "В корзине не может быть более 5 различных товаров".
7. При попытке добавить товар, превышающий лимиты по суммарному кол-ву товаров в корзине, система показывает сообщение: "Общее количество товаров не может превышать 20 штук".
8. При одновременном нарушении нескольких лимитов по кол-ву товаров отображаются несколько соответствующих сообщений. 
9. Цена на продукт фиксируется на момент добавления в корзину и не меняется определенный период времени.
10. На странице корзины отображается список товаров, их количество, цена за единицу и общая стоимость позиции.
11. В корзине может быть реклама других продуктов. Содержание, расположение и расписание показа регулируются в разделе "Маркетинговые элементы интерфейса" и не влияют на состав и лимиты корзины.
12. При отсутствии требуемого пользователем кол-ва товаров (отсутствие на складе), система показывает сообщение: "Товара нет в наличии" или "Товар кончился".
13. При удалении товара из каталога, система показывает сообщение: "Товар отсутствует".

Уточняющие вопросы:
1. При изменении цены товара в каталоге, нужно ли показывать сообщение пользователю "Цена выросла. Для вас цена не изменилась"?
2. На какой срок при добавлении в корзину сохраняется исходная цена для покупателя?
3. При добавлении товара, который был удален из каталога, операция блокируется или игнорируется только невозможная позиция?
4. Стоит ли описывать стратегию рекламы в корзине внутри данного ТЗ?

**Задание 2: проектирование API**

Описание:
Интернет-магазин "Петрушка Зеленая" преуспевает, расширяется и в мобильном приложении решили создать новый экран, который будет отображать магазины партнеров (см. макеты ниже).
<img width="284" height="602" alt="image" src="https://github.com/user-attachments/assets/d51a9d2e-775d-4b30-b6ff-9afd8800914b" />

Что нужно сделать:
Написать пример REST API запроса, который будет вызываться при переходе пользователя на данный экран. 
Привести пример ответа этого REST API в соответствии с макетом. Формат - JSON. Учесть, что при клике на плашку магазина должен осуществляться переход по ссылке на внешний ресурс. 

**Решение, задание 2**

Пример REST API запроса

GET /api/partners/stores
Host: api.petrushkagreen.ru
Authorization: Bearer <токен авторизации>
Accept: application/json

Пример ответа на REST API запроса в формате json

{
  "data": [
    {
      "id": 1,
      "name": "METRO",
      "delivery_info": "Ближайшая доставка сегодня 21:00-23:00",
      "image_url": "https://petrushkagreen.ru/images/stores/metro_logo.png",
      "external_url": "https://www.metro.ru"
    },
    {
      "id": 2,
      "name": "Ашан",
      "delivery_info": "Ближайшая доставка сегодня 18:00-20:00",
      "image_url": "https://petrushkagreen.ru/images/stores/ashan_logo.png",
      "external_url": "https://www.ashan.ru"
    },
    {
      "id": 3,
      "name": "ВкусВилл",
      "delivery_info": "Быстрая доставка от 20 до 60 минут",
      "image_url": "https://petrushkagreen.ru/images/stores/vkusvill_logo.png",
      "external_url": "https://www.vkusvill.ru"
    },
    {
      "id": 4,
      "name": "Виктория",
      "delivery_info": "Ближайшая доставка сегодня 17:00-19:00",
      "image_url": "https://petrushkagreen.ru/images/stores/victoria_logo.png",
      "external_url": "https://www.victoria.com"
    }
    
]
}   

**Задание 3: архитектура**

Описание:
Заказчик хочет, что в мобильное приложение интернет-магазина "Петрушка Зеленая" начали приходить пуши. Они могут быть разными: о том, что заказ слишком долго лежит без действий в корзине, об отмене заказа, рекламные рассылки и прочее. То есть нужен функционал, а какие пуши отправлять - точно найдется.

Что нужно сделать:
Построить верхнеуровневую архитектурую схему - как должна работать отправка PUSH уведомлений в данном приложении. Можно просто в виде блок схем. Считаем, что на бэкенде микросервисная архитектура. В данном задании рекомендуется в интернете изучить архитектуры подобных решений.

<img width="615" height="725" alt="верхнеуровневая схема" src="https://github.com/user-attachments/assets/adb76e38-b157-4b72-8b92-48d6e6e7205f" />



